<!DOCTYPE html>

<html>
<head>
	<title>VF Hosted app</title>

	<script src="phonegap.js"></script>
	<script src="childbrowser.js" ></script>

	<script type="text/javascript">
		function dispatchMessage (e) {
			alert (JSON.stringify(e));
		}
		window.addEventListener('message', dispatchMessage, false);

		var w;
		function deviceReady () {
			w = window.open ('https://c.eu2.visual.force.com/apex/PhoneGap_VF_Hosted', '_self', 'location=no');

			w.addEventListener('loadstart', function(event) { alert('start: ' + event.url);     });
			w.addEventListener('loadstop',  function(event) { alert('stop: '  + event.url);     });
			w.addEventListener('loaderror', function(event) { alert('error: ' + event.message); });
			w.addEventListener('exit',      function(event) { alert(event.type);                });
		}
	</script>
</head>

<body onload="document.addEventListener('deviceready', deviceReady, false);">
	<h1>VF Hosted app</h1>

	<iframe src="https://c.eu2.visual.force.com/apex/PhoneGap_VF_Hosted"></iframe>
</body>
</html>
